{"version":3,"file":"ng-binary-clock.service.js","sourceRoot":"","sources":["../../src/ng-binary-clock.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/share';\nimport 'rxjs/add/observable/interval';\n\n// INTERFACE\nimport { IBinaryClock } from './ng-binary-clock.interface';\n\n@Injectable()\nexport class NgBinaryClockService {\n  public timer$: Observable<IBinaryClock>;\n\n  constructor () {\n    // init time ticker\n    this.timer$ = Observable.interval( 500 )\n      .map( () => {\n        // get current time\n        const time = ( new Date ).toLocaleTimeString();\n        // return converted time -> binary format\n        return this.convertTimeIntoBinary( time );\n      });\n  }\n\n  convertTimeIntoBinary( time: String ): IBinaryClock {\n    // set clock to zero on start\n    const binaryTime: IBinaryClock = {\n      'hour':   { '20': false, '10': false, '8': false, '4': false, '2': false, '1': false, },\n      'minute': { '40': false, '20': false, '10': false, '8': false, '4': false, '2': false, '1': false, },\n      'second': { '40': false, '20': false, '10': false, '8': false, '4': false, '2': false, '1': false, }\n    };\n\n    // split time string into every section 11:45:12 -> 1 1 4 5 1 2\n    let hourDouble = +time.substr( 0 , 1 );\n    let hourSingle = +time.substr( 1 , 1 );\n    let minDouble  = +time.substr( 3 , 1 );\n    let minSingle  = +time.substr( 4 , 1 );\n    let secDouble  = +time.substr( 6 , 1 );\n    let secSingle  = +time.substr( 7 , 1 );\n\n    // hour double digit\n    if (( hourDouble - 2 ) >= 0 ) {\n      binaryTime.hour[ '20' ] = true;\n      hourDouble -= 2;\n    }\n\n    if (( hourDouble - 1 ) >= 0 ) {\n      binaryTime.hour[ '10' ] = true;\n    }\n\n    // hour single digit\n    if (( hourSingle - 8 ) >= 0 ) {\n      binaryTime.hour[ '8' ] = true;\n      hourSingle -= 8;\n    }\n\n    if (( hourSingle - 4 ) >= 0 ) {\n      binaryTime.hour[ '4' ] = true;\n      hourSingle -= 4;\n    }\n\n    if (( hourSingle - 2 ) >= 0 ) {\n      binaryTime.hour[ '2' ] = true;\n      hourSingle -= 2;\n    }\n\n    if (( hourSingle - 1 ) >= 0 ) {\n      binaryTime.hour[ '1' ] = true;\n    }\n\n    // minute double digit\n    if (( minDouble - 4 ) >= 0 ) {\n      binaryTime.minute[ '40' ] = true;\n      minDouble -= 4;\n    }\n\n    if (( minDouble - 2 ) >= 0 ) {\n      binaryTime.minute[ '20' ] = true;\n      minDouble -= 2;\n    }\n\n    if (( minDouble - 1 ) >= 0 ) {\n      binaryTime.minute[ '10' ] = true;\n    }\n\n    // second single digit\n    if (( minSingle - 8 ) >= 0 ) {\n      binaryTime.minute[ '8' ] = true;\n      minSingle -= 8;\n    }\n\n    if (( minSingle - 4 ) >= 0 ) {\n      binaryTime.minute[ '4' ] = true;\n      minSingle -= 4;\n    }\n\n    if (( minSingle - 2 ) >= 0 ) {\n      binaryTime.minute[ '2' ] = true;\n      minSingle -= 2;\n    }\n\n    if (( minSingle - 1 ) >= 0 ) {\n      binaryTime.minute[ '1' ] = true;\n    }\n\n    // second double digit\n    if (( secDouble - 4 ) >= 0 ) {\n      binaryTime.second[ '40' ] = true;\n      secDouble -= 4;\n    }\n\n    if (( secDouble - 2 ) >= 0 ) {\n      binaryTime.second[ '20' ] = true;\n      secDouble -= 2;\n    }\n\n    if (( secDouble - 1 ) >= 0 ) {\n      binaryTime.second[ '10' ] = true;\n    }\n\n    // second single digit\n    if (( secSingle - 8 ) >= 0 ) {\n      binaryTime.second[ '8' ] = true;\n      secSingle -= 8;\n    }\n\n    if (( secSingle - 4 ) >= 0 ) {\n      binaryTime.second[ '4' ] = true;\n      secSingle -= 4;\n    }\n\n    if (( secSingle - 2 ) >= 0 ) {\n      binaryTime.second[ '2' ] = true;\n      secSingle -= 2;\n    }\n\n    if (( secSingle - 1 ) >= 0 ) {\n      binaryTime.second[ '1' ] = true;\n    }\n\n    return binaryTime;\n  }\n}\n"]}